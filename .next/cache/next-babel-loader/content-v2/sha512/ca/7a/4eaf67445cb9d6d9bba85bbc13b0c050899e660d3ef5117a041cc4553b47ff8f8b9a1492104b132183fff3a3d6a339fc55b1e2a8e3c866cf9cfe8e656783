{"ast":null,"code":"import airports from \"../data/airports.json\";\nexport const findAirportByIata = async (iata) => {\n  return airports.find(airport => airport.iata === iata.toUpperCase());\n};\n\nconst removeDuplicates = (originalArray, objKey) => {\n  var trimmedArray = [];\n  var values = [];\n  var value;\n\n  for (var i = 0; i < originalArray.length; i++) {\n    value = originalArray[i][objKey];\n\n    if (values.indexOf(value) === -1) {\n      trimmedArray.push(originalArray[i]);\n      values.push(value);\n    }\n  }\n\n  return trimmedArray;\n};\n\nconst sortAlphabetically = originalArray => {\n  return originalArray.sort(function (a, b) {\n    var firstItem = a.name.toUpperCase();\n    var secondItem = b.name.toUpperCase();\n    return firstItem < secondItem ? -1 : firstItem > secondItem ? 1 : 0;\n  });\n};\n\nexport const allAirports = async filters => {\n  const {\n    name,\n    iata,\n    city,\n    country\n  } = filters;\n  let filteredAirports = [];\n\n  if (name || iata || city || country) {\n    filteredAirports = airports.filter(airport => {\n      if (name && name != airport.name) {\n        return false;\n      }\n\n      if (iata && iata != airport.iata) {\n        return false;\n      }\n\n      if (country && country != airport.country) {\n        return false;\n      }\n\n      if (city && city != airport.city) {\n        return false;\n      }\n\n      return true;\n    });\n    return sortAlphabetically(filteredAirports);\n  } else {\n    return sortAlphabetically(airports);\n  }\n};\nexport const getAirportNames = async () => {\n  let names = [];\n  airports.map(airport => {\n    names.push({\n      name: airport.name\n    });\n  });\n  names = removeDuplicates(names, \"name\");\n  return sortAlphabetically(names);\n};\nexport const getAirportIataList = async () => {\n  let airportIataList = [];\n  airports.map(airport => {\n    airportIataList.push({\n      name: airport.iata\n    });\n  });\n  return sortAlphabetically(airportIataList);\n};\nexport const getCountries = async () => {\n  let countries = [];\n  airports.map(airport => {\n    countries.push({\n      name: airport.country\n    });\n  });\n  countries = removeDuplicates(countries, \"name\");\n  return sortAlphabetically(countries);\n};\nexport const getCities = async () => {\n  let cities = [];\n  airports.map(airport => {\n    cities.push({\n      name: airport.city,\n      country: airport.country\n    });\n  });\n  cities = removeDuplicates(cities, \"name\");\n  return sortAlphabetically(cities);\n};","map":{"version":3,"sources":["C:/Users/KogoKing/entrepreneur/github/maybe-finance/code-challenge-nextjs/models/airport.ts"],"names":["airports","findAirportByIata","iata","find","airport","toUpperCase","removeDuplicates","originalArray","objKey","trimmedArray","values","value","i","length","indexOf","push","sortAlphabetically","sort","a","b","firstItem","name","secondItem","allAirports","filters","city","country","filteredAirports","filter","getAirportNames","names","map","getAirportIataList","airportIataList","getCountries","countries","getCities","cities"],"mappings":"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","sourcesContent":["import airports from \"../data/airports.json\";\r\nimport Airport from \"../types/airport\";\r\nimport Country from \"../types/country\";\r\nimport City from \"../types/city\";\r\nimport AirportName from \"../types/airport-name\";\r\nimport AirportIata from \"../types/airport-iata\";\r\n\r\nexport const findAirportByIata = async (\r\n  iata: string\r\n): Promise<Airport | undefined> => {\r\n  return airports.find((airport) => airport.iata === iata.toUpperCase());\r\n};\r\n\r\nconst removeDuplicates = (originalArray: any, objKey: string) => {\r\n  var trimmedArray = [];\r\n  var values = [];\r\n  var value;\r\n  for (var i = 0; i < originalArray.length; i++) {\r\n    value = originalArray[i][objKey];\r\n    if (values.indexOf(value) === -1) {\r\n      trimmedArray.push(originalArray[i]);\r\n      values.push(value);\r\n    }\r\n  }\r\n  return trimmedArray;\r\n};\r\n\r\nconst sortAlphabetically = (originalArray: any) => {\r\n  return originalArray.sort(function (a, b) {\r\n    var firstItem = a.name.toUpperCase();\r\n    var secondItem = b.name.toUpperCase();\r\n    return firstItem < secondItem ? -1 : firstItem > secondItem ? 1 : 0;\r\n  });\r\n};\r\n\r\nexport const allAirports = async (filters): Promise<Airport[]> => {\r\n  const { name, iata, city, country } = filters;\r\n  let filteredAirports = [];\r\n  if (name || iata || city || country) {\r\n    filteredAirports = airports.filter((airport) => {\r\n      if (name && name != airport.name) {\r\n        return false;\r\n      }\r\n      if (iata && iata != airport.iata) {\r\n        return false;\r\n      }\r\n      if (country && country != airport.country) {\r\n        return false;\r\n      }\r\n      if (city && city != airport.city) {\r\n        return false;\r\n      }\r\n      return true;\r\n    });\r\n    return sortAlphabetically(filteredAirports);\r\n  } else {\r\n    return sortAlphabetically(airports);\r\n  }\r\n};\r\n\r\nexport const getAirportNames = async (): Promise<AirportName[]> => {\r\n  let names = [];\r\n  airports.map((airport) => {\r\n    names.push({ name: airport.name });\r\n  });\r\n  names = removeDuplicates(names, \"name\");\r\n  return sortAlphabetically(names);\r\n};\r\n\r\nexport const getAirportIataList = async (): Promise<AirportName[]> => {\r\n  let airportIataList = [];\r\n  airports.map((airport) => {\r\n    airportIataList.push({ name: airport.iata });\r\n  });\r\n  return sortAlphabetically(airportIataList);\r\n};\r\n\r\nexport const getCountries = async (): Promise<AirportName[]> => {\r\n  let countries = [];\r\n  airports.map((airport) => {\r\n    countries.push({ name: airport.country });\r\n  });\r\n  countries = removeDuplicates(countries, \"name\");\r\n  return sortAlphabetically(countries);\r\n};\r\n\r\nexport const getCities = async (): Promise<AirportName[]> => {\r\n  let cities = [];\r\n  airports.map((airport) => {\r\n    cities.push({ name: airport.city, country: airport.country });\r\n  });\r\n  cities = removeDuplicates(cities, \"name\");\r\n  return sortAlphabetically(cities);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}